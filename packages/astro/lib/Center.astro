---
import { getCssLength, joinStyles } from '@chisel-ui/core'
import './Center.css'
import PadBox from './PadBox.astro'
import type { CSSLength } from '@chisel-ui/core'
import type { Props as PadBoxProps } from './PadBox.astro'

export interface Props extends PadBoxProps {
    centerChildren?: boolean
    centerText?: boolean
    maxWidth?: CSSLength
}

const {
    centerChildren,
    centerText,
    maxWidth,
    style = '',
    ...props
} = Astro.props as Props

const maybeMaxWidth = getCssLength(maxWidth)

const attrValue = [
	centerText && 'text',
	centerChildren && 'children'
]
	.filter(Boolean)
	.join(' ')

const componentStyle = joinStyles(
    maybeMaxWidth && `--max-width: ${maybeMaxWidth}`,
    style
)
---

<PadBox data-chisel-center={attrValue} style={componentStyle} {...props}>
    <slot />
</PadBox>