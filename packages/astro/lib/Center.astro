---
import { getCssLength, joinStyles } from '@chisel-ui/core'
import './Center.css'
import Component from './Component.astro'
import type { CSSLength } from '@chisel-ui/core'
import type { Props as ComponentProps } from './Component.astro'

export interface Props extends ComponentProps {
    centerChildren?: boolean
    centerText?: boolean
    maxWidth?: CSSLength
}

const {
    centerChildren,
    centerText,
    maxWidth,
    style = '',
    ...props
} = Astro.props as Props

const maybeMaxWidth = getCssLength(maxWidth)

const attrValue = [
	centerText && 'text',
	centerChildren && 'children'
]
	.filter(Boolean)
	.join(' ')

const componentStyle = joinStyles(
    maybeMaxWidth && `--max-width: ${maybeMaxWidth}`,
    style
)
---

<Component data-chisel-center={attrValue} style={componentStyle} {...props}>
    <slot />
</Component>