---
import { getCssLength, joinStyles } from '@chisel-ui/core'
import Component from './Component.astro'
import './Cover.css'
import type { CSSLength } from '@chisel-ui/core'
import type { Props as ComponentProps } from './Component.astro'

export interface Props extends ComponentProps {
    minHeight?: CSSLength
    stretch?: boolean
}

const {
    minHeight,
    stretch = false,
    style = '',
    ...props
} = Astro.props as Props

const maybeMinHeight = getCssLength(minHeight)

const componentStyle = joinStyles(
    `--min-height: ${maybeMinHeight || '100vh'}`,
    style
)
---

<Component data-chisel-cover={stretch ? 'stretch' : ''} style={componentStyle} {...props}>
    <slot name="before" />
    <div data-chisel-cover-centered>
        <slot />
    </div>
    <slot name="after" />
</Component>