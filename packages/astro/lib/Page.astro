---
import { getBreakpointValue, joinStyles } from '@chisel-ui/core'
import './Page.css'
import Layout from './Layout.astro'
import type { Breakpoint, Theme } from '@chisel-ui/core'
import type { Props as LayoutProps } from './Layout.astro'

export interface Props<T extends Theme = Theme> extends LayoutProps<T> {
	maxWidth?: Breakpoint<T['breakpoints']>
}

const {
	theme = {},
	maxWidth = 'xl',
	style = '',
	...props
} = Astro.props as Props

const safeMaxWidth = getBreakpointValue(theme, maxWidth)

const componentStyle = joinStyles(`--max-width: ${safeMaxWidth}`, style)
---

<Layout data-chisel-page style={componentStyle} {theme} {...props}>
	<slot />
</Layout>
