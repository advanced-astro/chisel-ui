---
import { joinStyles, getBreakpointValue } from '@chisel-ui/core'
import './ColumnDrop.css'
import Layout from './Layout.astro'
import type { Breakpoint, Theme } from '@chisel-ui/core'
import type { Props as LayoutProps } from './Layout.astro'

export interface Props<T extends Theme = Theme> extends LayoutProps<T> {
	basis?: Breakpoint<T['breakpoints']>
	noStretchedColumns?: boolean
}

const {
	theme = {},
	basis = 'xs',
	noStretchedColumns = false,
	style = '',
	...props
} = Astro.props as Props

const safeBasis = getBreakpointValue(theme, basis)

const componentStyle = joinStyles(`--basis: ${safeBasis}`, style)
---

<Layout
	data-chisel-column-drop={noStretchedColumns ? 'no-stretched-columns' : ''}
	style={componentStyle}
	{theme}
	{...props}
>
	<slot />
</Layout>

